# ===========================================
# 법률 서비스 플랫폼 환경 변수 설정
# ===========================================

APP_NAME=Law Platform API
DEBUG=true

# 환경: development | docker | production
ENVIRONMENT=development

# ===========================================
# Database (필수)
# ===========================================
# PostgreSQL 연결 문자열
# 형식: postgresql://사용자:비밀번호@호스트:포트/데이터베이스명
DATABASE_URL=postgresql://user:password@localhost:5432/lawdb

# ===========================================
# CORS
# ===========================================
CORS_ORIGINS=["http://localhost:3000"]

# ===========================================
# API Keys
# ===========================================

# OpenAI API (필수) - AI 기능 (판례 분석, 문서 생성, RAG 등)
# 발급: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key

# 카카오 API (변호사 찾기 기능 사용 시 필요)
# 발급: https://developers.kakao.com → 내 애플리케이션 → 앱 키
# 주의: 플랫폼 설정에서 http://localhost:3000 도메인 등록 필요
KAKAO_MAP_API_KEY=your_javascript_key
KAKAO_REST_API_KEY=your_rest_api_key

# ===========================================
# Vector DB 설정
# ===========================================
# 사용할 벡터 DB 선택 (chroma, qdrant, lancedb)
# 기본값: chroma
# LanceDB 사용 시: VECTOR_DB=lancedb
VECTOR_DB=lancedb

# --- ChromaDB 설정 (VECTOR_DB=chroma) ---
CHROMA_COLLECTION_NAME=legal_documents
CHROMA_PERSIST_DIR=./data/chroma

# --- Qdrant 설정 (VECTOR_DB=qdrant) ---
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=
QDRANT_COLLECTION_NAME=legal_documents

# --- LanceDB 설정 (VECTOR_DB=lancedb) ---
LANCEDB_URI=./lancedb_data
LANCEDB_TABLE_NAME=legal_chunks

# ===========================================
# 임베딩 설정
# ===========================================
# OpenAI 임베딩 API 배치 크기
EMBEDDING_BATCH_SIZE=100
# OpenAI 임베딩 모델 (USE_LOCAL_EMBEDDING=false 일 때 사용)
EMBEDDING_MODEL=text-embedding-3-small
# 로컬 임베딩 모델 (KURE-v1: 1024차원, 한국어 최적화)
LOCAL_EMBEDDING_MODEL=nlpai-lab/KURE-v1
# 로컬 임베딩 사용 여부 (true: 무료, false: OpenAI API 비용 발생)
USE_LOCAL_EMBEDDING=true

# ===========================================
# 데이터 소스 설정
# ===========================================
# 변호사 데이터 소스 (true: PostgreSQL, false: JSON 파일)
# DB 사용 시: uv run alembic upgrade head && uv run python scripts/load_lawyers_data.py
USE_DB_LAWYERS=false

# ===========================================
# 모듈 설정
# ===========================================
# 활성화할 모듈 (빈 배열이면 모든 모듈 활성화)
# 예시: ENABLED_MODULES=["lawyer_finder","case_precedent","small_claims"]
ENABLED_MODULES=[]

# ===========================================
# RAG 평가 시스템 (evaluation 모듈)
# ===========================================

# Upstage Solar API (자동 질문 생성용)
# 발급: https://console.upstage.ai
# 모델: solar-pro3-260126 (최신), solar-pro3 (별칭)
# 무료 기간: 2026년 3월 2일까지
UPSTAGE_API_KEY=your_upstage_api_key
UPSTAGE_MODEL=solar-pro3-260126

# Gradio UI 설정
EVAL_GRADIO_HOST=0.0.0.0
EVAL_GRADIO_PORT=7860

# ===========================================
# Neo4j Graph DB
# ===========================================
# 그래프 DB 연결 설정 (법령 계급, 판례 인용 관계 저장)
# Browser UI: http://localhost:7474
# 기본 비밀번호: docker-compose.yml에서 설정 (기본 password)
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=password1234
